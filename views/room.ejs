<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/header.ejs') %> 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #video-grid{
            display: grid;
            grid-template-columns: repeat(auto-fill, 50%);
            grid-template-rows: 100%;
        }

        video{
            height: 100%;
            width: 100%;
            object-fit: cover;
        }
        
        label {
            color: white;
        }
    </style>

    <script>
        const ROOM_ID = "<%= roomId %>";
        const USER_ID = "<%= user.id%>";
        const USER_NAME = "<%= user.username%>"
    </script>
    
    
</head>
<body class="bg-dark">
    <div class="container">
        <div id="video-grid">

        </div>
        <div class="row fixed-bottom">
            <div class="col-md-8 offset-2">
                
                <div class="call-options text-white d-flex justify-content-end">
                    <div class="muteoption col">
                        <input type="checkbox" class="btn-check mute" id="btn-check-outlined mute" autocomplete="off">
                        <label class="btn btn-outline-primary" for="btn-check-outlined mute">Mute</label>
                    </div>
                    <div class="videooption col">
                        <input type="checkbox" class="btn-check video" id="btn-check-outlined video" autocomplete="off">
                        <label class="btn btn-outline-primary" for="btn-check-outlined video">Video</label>
                    </div>
                    <div class="sharescreen col">
                        <button class="btn btn-primary" id="sharescreen">sharescreen</button>
                    </div>
                    <% if(user.accountType == 'instructor'){ %> 
                    <div class="attendance col">
                        <button class="btn btn-primary" id="attendance">Attendance</button>
                    </div>
                    <% } %> 
                    <div class="leave-meeting col d-flex justify-content-end">
                        <button class="btn btn-danger" name="leavemeeting" id="leavemeeting">Leave Meeting</button>
                    </div>
                </div>
            
            </div>
        </div>
    </div>
    <%- include('./partials/footer.ejs') %> 
</body>
<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
<script  src="/js/video.js"></script>

<script>
    $(document).ready(function(){
        $(this).on('click','#leavemeeting',function(){
            window.close('','_parent','')
        })

    })

</script>

</html>